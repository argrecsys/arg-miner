# Extraction and use of arguments in Recommender Systems
![version](https://img.shields.io/badge/version-1.1.0-blue)
![last-update](https://img.shields.io/badge/last_update-11/02/2021-orange)
![license](https://img.shields.io/badge/license-Apache_2.0-brightgreen)

This repository contains a simple but efficient implementation of an argument-based recommender system, that makes use of the built taxonomy and lexicon to extract argument graphs from citizen proposals and debates of an e-participation platform. 

Paper presented at <a href="http://ceur-ws.org/Vol-2960/">Joint Workshop of the 3rd Edition of Knowledge-aware and Conversational Recommender Systems (KaRS) and the 5th Edition of Recommendation in Complex Environments (ComplexRec)</a> co-located with 15th ACM Conference on Recommender Systems (RecSys 2021). Virtual Event, Amsterdam, The Netherlands, September 25, 2021.

Paper and presentation slides <a href="https://github.com/argrecsys/arg-miner/tree/main/paper">here</a>.

## Solutions
This system is made up of 2 major modules, which are:
- Argument Miner
- Argument-based Recommender System

## Resources
This project uses the two-level taxonomy of argument relations and the set of linguistic connectors (in English and Spanish) published in the <a href="https://github.com/argrecsys/connectors" target="_blank">argrecsys/connectors</a> repository.

## Preliminary Results
We present some statistics from a preliminary offline test (with a subset of lexicon connectors) on the automatic identification and extraction of arguments from the citizen proposals available in the Decide Madrid database:
- From a reduced list of 10 connectors (belonging to the CAUSE and CONTRAST categories), 1,744 proposals with possible arguments were identified out of the 21,744 proposals available.
- Arguments were automatically extracted in 1,362 of the 1,744 proposals identified, entailing a coverage of 78.0%.
- Of the 1,379 arguments extracted (some proposals had more than one argument), 1,034 were identified with connectors from the CAUSE category and 345 from the CONTRAST category.
- An accuracy of 78.8% was achieved in a manual evaluation of 47 arguments about public transportation.

## Outputs
All the results generated by the Argument Miner and Recommender System can be consulted in the following <a href="https://github.com/argrecsys/arg-miner/tree/main/results">folder</a>.

Example in JSON format of an argument extracted from a citizen proposal about public transportation by the Argument Miner.

```json
{
    "5717-1": {
        "proposalID": 5717,
        "sentence": "The use of public transport in the city is almost forced but in EMT pets are not allowed",
        "mainVerb": "is forced",
        "connector": {
            "value": "but", "intent": "attack",
            "category": "CONTRAST", "subCategory": "OPPOSITION"
        },
        "premise": {
            "entities": "[EMT]",
            "text": "in EMT pets are not allowed",
            "nouns": "[pets]"
        },
        "claim": {
            "entities": "[]",
            "text": "The use of public transport in the city is almost forced",
            "nouns": "[use, transport, city]"
        },
        "majorClaim": {
            "entities": "[]",
            "text": "Allowing pets on public transport",
            "nouns": "[pets, transport]"
        },
        "pattern": "P1 -> CLAIM + CONNECTOR + PREMISE"
    }
}
```

Example in XML format of recommendations of citizen proposals and arguments about public transportation generated by the Argument-based Recommender System

```xml
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recommendations>
    <proposals quantity="5">
        <proposal id="20307" topics="buses" categories="mobility" date="2017-12-10" districts="Tetuán">
            Urban buses connecting San Chinarro and Las Tablas with Cuatro Caminos</proposal>
        <proposal id="1432" topics="environment" categories="mobility" date="2015-09-18" districts="city">
            Public transportation in Madrid Río</proposal>
        <proposal id="5717" topics="pets" categories="mobility" date="2015-11-18" districts="city">
            Allowing pets on public transport</proposal>
        <proposal id="4671" topics="public transport" categories="mobility" date="2015-11-05" districts="city">
            Public transport price</proposal>
        <proposal id="2769" topics="transport pass" categories="mobility" date="2015-10-07" districts="city">
            The Transport Pass should expire in one month</proposal>
    </proposals>
    <topics quantity="1">
        <topic value="transport" aspects="subway,use,price,transports" quantity="4">
            <aspect value="subway" quantity="2">
                <argument id="20307-1">
                    <claim>The PAU of Norte Sanchinarro Las Tablas are poorly served by public transport</claim>
                    <connector category="cause" subcategory="reason" intent="support">due to</connector>
                    <premise>the ineffectiveness of light subway</premise>
                </argument>
                <argument id="1432-1">
                    <claim>The Madrid Rio park was created promising that public transport would reach there</claim>
                    <connector category="contrast" subcategory="opposition" intent="attack">but</connector>
                    <premise>it is false, the Legazpi subway is far away and buses are non-existent</premise>
                </argument>
            </aspect>
            <aspect value="use" quantity="1">
                <argument id="5717-1">
                    <claim>The use of public transport in the city is almost forced</claim>
                    <connector category="contrast" subcategory="opposition" intent="attack">but</connector>
                    <premise>in EMT pets are not allowed</premise>
                </argument>
            </aspect>
            <aspect value="price" quantity="1">
                <argument id="4671-1">
                    <claim>Lower the price of transportation</claim>
                    <connector category="cause" subcategory="reason" intent="support">because</connector>
                    <premise>it is very expensive</premise>
                </argument>
            </aspect>
            <aspect value="transport" quantity="1">
                <argument id="2769-1">
                    <claim>The Madrid Transport Pass expires in 30 days</claim>
                    <connector category="contrast" subcategory="opposition" intent="attack">but</connector>
                    <premise>not all months have 30 days, there are several months that have 31 days</premise>
                </argument>
            </aspect>
        </topic>
    </topics>
</recommendations>
```

## Dependencies
The implemented solutions depend on or make use of the following libraries and .jar files:
- JDK 16
- Stanford CoreNLP 4.2.2
- MySQL Connector 8.0.22
- MongoDB Java Driver 3.4.3
- Snake YAML 1.9
- JSON Java 20210307

## Authors
Created on Apr 10, 2021  
Created by:
- <a href="https://github.com/ansegura7" target="_blank">Andrés Segura-Tinoco</a>
- <a href="http://arantxa.ii.uam.es/~cantador/" target="_blank">Iv&aacute;n Cantador</a>

## License
This project is licensed under the terms of the <a href="https://github.com/argrecsys/arg-miner/blob/main/LICENSE">Apache License 2.0</a>.

## Acknowledgements
This work was supported by the Spanish Ministry of Science and Innovation (PID2019-108965GB-I00).
